<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T7HFKFX0PR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-T7HFKFX0PR');
    </script>
    <!-- End Google tag (gtag.js) -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>15 Puzzle Solver - The Matrix Project</title>
    <meta name="description"
        content="The Matrix Project is a comprehensive exploration of AI search algorithms, using the 8-Puzzle problem as a case study. The program includes implementations of famous search algorithms, such as BFS, IDDFS, GBFS, and A* search algorithms, and a custom heuristic for A* and GBFS. It features a GUI implemented in Python with tkinter and C++ with GTK, and falling code animation.">
    <meta name="keywords"
        content="15-puzzle, bfs, introduction to ai, 8-Puzzle, AI, Search Algorithms, BFS, IDDFS, GBFS, A*, Python, C++, GUI, tkinter, GTK, CSS, Falling Code, Animation, Open University">
    <meta name="author" content="Dor Pascal">
    <meta name="robots" content="index, follow">
    <meta name="revisit-after" content="3 months">
    <meta name="language" content="en">
    <meta name="generator" content="Visual Studio Code">
    <meta name="distribution" content="global">
    <meta name="rating" content="general">
    <meta property="og:title" content="15 Puzzle Solver - The Matrix Project">
    <meta property="og:description"
        content="The Matrix Project is a comprehensive exploration of AI search algorithms, using the 8-Puzzle problem as a case study. The program includes implementations of famous search algorithms, such as BFS, IDDFS, GBFS, and A* search algorithms, and a custom heuristic for A* and GBFS. It features a GUI implemented in Python with tkinter and C++ with GTK, and falling code animation.">
    <meta property="og:url" content="https://dorpascal.com/15-puzzle">
    <meta property="og:site_name" content="Dor Pascal">
    <meta property="og:locale" content="he_IL">
    <meta property="og:type" content="website">
    <meta property="og:locale:alternate" content="en_US">
    <meta property="og:locale:alternate" content="ar_IL">
    <meta property="og:image" content="https://dorpascal.com/15-puzzle/cover.gif">
    <meta name="theme-color" content="#003300">
    <link rel="icon" href="https://dorpascal.com/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="https://dorpascal.com/favicon.ico">
    <link rel="canonical" href="https://dorpascal.com/15-puzzle">
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: #000;
            color: #8CFF57;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        header {
            background-color: #003300;
            color: #8CFF57;
            width: 100%;
            padding: 1rem 0;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 255, 0, 0.3);
        }

        .container {
            max-width: 800px;
            padding: 2rem;
            background: #022202;
            box-shadow: 0 4px 8px rgba(0, 255, 0, 0.2);
            border-radius: 8px;
            margin: 2rem 0;
            text-align: left;
            animation: fadeIn 2s ease-in-out;
        }

        h1,
        h2,
        h3 {
            color: #8CFF57;
            text-shadow: 0 0 5px #0F0;
            animation: none;
        }

        p {
            line-height: 1.6;
            color: #8CFF57;
        }

        .center {
            text-align: center;
        }

        .image-center img {
            display: block;
            margin: 0 auto;
        }

        iframe {
            width: 100%;
            max-width: 800px;
            aspect-ratio: 16/9;
        }

        a,
        button {
            color: #8CFF57;
            background-color: #022202;
            border: 1px solid #8CFF57;
            padding: 0.5rem 1rem;
            text-decoration: none;
            transition: background-color 0.5s, color 0.5s;
            text-shadow: 0 0 5px #0F0;
        }

        a:hover,
        button:hover {
            background-color: #8CFF57;
            color: #000;
            border-color: #000;
        }
    </style>
</head>

<body>
    <header>
        <h1>üï≥Ô∏è _Matrix</h1>
    </header>
    <div class="container">
        <h2>App Demo</h2>
        <iframe src="./game.html" title="App Demo"></iframe>
        <h2>Project Overview</h2>
        <p>Project <strong>_Matrix</strong> (Line-Matrix) is a comprehensive exploration of AI search algorithms, using
            the <em>8-Puzzle</em> problem as a case study. The program includes implementations of famous search
            algorithms, such as BFS, IDDFS, GBFS, and A* search algorithms, and a custom heuristic for A* and GBFS. The
            program was initially developed for the <strong>20551 Introduction to Artificial Intelligence</strong>
            course at the <em>Open University of Israel</em>, and earned a perfect score of 100/100.</p>

        <div class="center">
            <img src="https:dorpascal.com/15-puzzle/images/usage_cubes.gif" title="AI8Puzzle" width="400" alt="AI8Puzzle GTK GUI">
            <p><em>AI8Puzzle GTK GUI (C++)</em></p>
        </div>

        <h2>The 8-Puzzle Problem</h2>
        <p>The 8-Puzzle problem is a classic AI problem, where the goal is to move the tiles from the initial state to
            the target state, using the minimum number of moves. The puzzle consists of a 3x3 grid with 8 numbered tiles
            and one empty space. The tiles are initially arranged in a random order, and the goal is to arrange them in
            ascending order, with the empty space at the bottom right corner, or at the top left corner (see <a
                href="https://en.wikipedia.org/wiki/15_puzzle" target="_blank">wikipedia</a>).</p>

        <div class="center">
            <img src="./images/moving.gif" title="AI8Puzzle" width="400" alt="8-Puzzle Moving Tile">
            <p><em>Example of 8-Puzzle: Moving tile 1 from the top left corner, then moving 4 to the middle</em></p>
        </div>

        <h3>States</h3>
        <pre><code class="language-python">class State:
    def __init__(self, numbers: List[int], rows=3, cols=3):
        self.numbers = numbers
        self.rows, self.cols = rows, cols
        self.matrix = self._create_matrix(numbers, rows, cols)

    def _create_matrix(self, numbers, rows, cols):
        return [[numbers[i * cols + j] for j in range(cols)] for i in range(rows)]
</code></pre>
        <p>The <code>State</code> class is responsible for representing a state in the world. A state, in this specific
            problem, is a configuration of the puzzle. Each puzzle configuration converts a linear array of tiles into a
            2D matrix. This design choice simplifies both the visualization of the puzzle state and the implementation
            of moves within the puzzle space.</p>

        <h3>Initial State</h3>
        <div class="center">
            <img src="./images/cubes_theme.png" title="AI8Puzzle" width="400" alt="Shuffled 8-Puzzle">
            <p><em>Example of shuffled 8-Puzzle, GUI with cubes theme</em></p>
        </div>
        <pre><code class="language-python">def main():
    try:
        initial_numbers = [int(num) for num in sys.argv[3:]]
        initial_state = State(initial_numbers)
    except ValueError:
        print("All arguments must be integers.")
        sys.exit(1)

    print(BFS(initial_state))
    print(IDDFS(initial_state))
    print(GBFS(initial_state))
    print(AStar(initial_state))
</code></pre>
        <p>The initial state, the one without a <code>parent</code> attribute, is defined based on the user input and
            starts as the tree root. The <code>main</code> function is responsible for parsing and initiating the
            <code>initial_state</code> instance, then it prints the result.</p>

        <h3>Actions and Transition Model</h3>
        <div class="center">
            <img src="./images/trans.png" title="AI8Puzzle" width="400" alt="8-Puzzle Transition Model">
            <p><em>Clicking the colored tiles will move them to the empty space</em></p>
        </div>
        <pre><code class="language-python">def generate_children(self):
    blank_x, blank_y = self.find_number_in_matrix(0)
    children = []
    for dx, dy in [(-1, 0), (1, 0), (0, -1), (0, 1)]:
        x, y = blank_x + dx, blank_y + dy
        if 0 <= x < self.rows and 0 <= y < self.cols:
            new_numbers = self.numbers.copy()
            blank_index, new_index = blank_x * self.cols + blank_y, x * self.cols + y
            new_numbers[blank_index], new_numbers[new_index] = new_numbers[new_index], new_numbers[blank_index]
            children.append(State(new_numbers))
    return children
</code></pre>
        <p>The actions and transition model are implemented inside the <code>state</code> class
            <code>generate_children</code>. The <code>State</code> class also includes methods for generating children
            states, considering possible moves from the current state. This method implements the Actions and the
            transition model.</p>

        <h3>Goal States</h3>
        <div class="center">
            <img src="./images/reaching_goal.gif" title="AI8Puzzle" width="400" alt="8-Puzzle Goal State">
            <p><em>Path to goal state of the 8-Puzzle</em></p>
        </div>
        <p>The problem includes two goal states, defined as plain <code>List[int]</code> to match the program
            initial_state input format.</p>
        <pre><code class="language-python">TARGET_A = [0, 1, 2, 3, 4, 5, 6, 7, 8]
TARGET_B = [1, 2, 3, 4, 5, 6, 7, 8, 0]
</code></pre>

        <h3>Action Cost</h3>
        <p>Each action performed by <code>generate_children</code> above costs 1, so <code>1</code> is the action cost
            of the problem. The cost is managed in the <code>Node</code> class which will be described below.</p>

        <h2>Running the Program</h2>
        <div class="center">
            <img src="./images/reduced_mov.gif" title="AI8Puzzle" width="400" alt="AI8Puzzle Animation">
            <img src="./images/neu_theme.jpg" title="AI8Puzzle" width="400" alt="AI8Puzzle Theme">
            <img src="./images/neu_theme2.png" title="AI8Puzzle" width="400" alt="AI8Puzzle Theme">
            <p><em>theMatrix theme GUI</em></p>
        </div>
        <p>The program supports both interactive GUI and command-line interfaces. Two GUI versions are available: one
            implemented in Python using the <code>tkinter</code> library, and another implemented in C++ using the
            <code>GTK</code> library. The Python version is easier to use and has more features, while the C++ version
            offers cool visual effects and supports <code>CSS</code> styling.</p>
        <p>To run the C++ GUI, first make sure you have <code>GTK</code> installed. Then navigate to the directory
            containing <code>AI8Puzzle</code> and execute the following command in the terminal:</p>
        <pre><code class="language-bash">./make && ./main <-s number of tiles></code></pre>
        <p>The <code>-s</code> flag is optional and allows you to set the number of tiles in the puzzle (including the
            blank tile). The default is 9 tiles. The program will generate a random solvable puzzle and open a window
            where you can interact with the puzzle.</p>
        <div class="center">
            <img src="./images/elegant_theme.png" title="AI8Puzzle" width="400" alt="Elegant Theme GUI">
            <p><em>Elegant theme GUI</em></p>
        </div>
        <p>You can move the tiles by clicking on them, or use the keyboard arrow keys. You can also use the following
            shortcuts:</p>
        <ul>
            <li><code>ctrl + n</code> - generate a new random puzzle (shuffled)</li>
            <li><code>ctrl + s</code> - solve the puzzle using the BFS algorithm</li>
            <li><code>ctrl + r</code> - reset the puzzle (default goal state)</li>
            <li><code>ctrl + q</code> - quit the program</li>
            <li><code>ctrl + t</code> - choose new theme from <code>css</code> file</li>
        </ul>
        <div class="center">
            <img src="./images/menu.png" title="AI8Puzzle" alt="Menu (C++)">
            <p><em>Menu (C++)</em></p>
        </div>
        <p>To run the Python GUI, first make sure you have <code>tkinter</code> installed. Then navigate to the
            directory containing <code>Tiles.py</code> and execute the following command in the terminal:</p>
        <pre><code class="language-bash">python3 GUI.py</code></pre>
        <div class="center">
            <img src="./images/solution_7_moves_white.gif" title="AI8Puzzle" width="240"
                alt="AI8Puzzle Solution 7 Moves">
            <img src="./images/solution_7_moves.gif" title="AI8Puzzle" width="240" alt="AI8Puzzle Solution 7 Moves">
        </div>
        <p>To run the program in the command-line interface mode, navigate to the directory containing
            <code>Tiles.py</code> and execute the following command in the terminal:</p>
        <pre><code class="language-bash">python3 Tiles.py <9 space-separated numbers representing the initial state></code></pre>
        <p>The program will print the results for each algorithm in the required format:</p>
        <pre><code class="language-bash"><Algorithm name>
<Explored count - number of expanded nodes>
<Solution Path></code></pre>

        <h2>Technical Details</h2>
        <pre><code class="language-python">class SearchAlgorithm:
    class ExploredSet:
        def __init__(self, initial_state, name=None):
            self.root_node = Node(initial_state)
            self.frontier = None
            self.explored = self.ExploredSet()
            self.name = name
            self.solution_node = None
</code></pre>
        <p>The <code>SearchAlgorithm</code> class and its nested <code>ExploredSet</code> class, along with other
            relevant details of the technical implementation, are included in the source code of the project. For more
            details, refer to the project's documentation and source code.</p>

        <h3>Node Class</h3>
        <p>The node class is responsible for representing a node in the search tree. The program uses two types of
            nodes: a base <code>Node</code> class and a derived <code>PriorityQueueNode</code> class. Each
            <code>Node</code> instance stores the current state, the parent node, and the path cost <code>g(n)</code>.
            In addition, the <code>PriorityQueueNode</code> class, used in A* and GBFS, includes a priority attribute
            for the heuristic value <code>h(n)</code>.</p>
        <pre><code class="language-python">class PriorityQueueNode(Node):
    def __init__(self, node):
        super().__init__(node.state, node.parent)
        self.priority = None

    def __lt__(self, other):
        return self.priority < other.priority
</code></pre>

        <h3>Search Data Structures</h3>
        <p>The <code>Frontier</code> class acts as the fringe or the boundary between explored and unexplored states. It
            is a priority queue (minimum heap) in A* and GBFS, and a simple queue or stack in BFS and IDDFS,
            respectively. In BFS it's implemented as a FIFO queue, while in IDDFS as a stack.</p>
        <pre><code class="language-python">class GBFS(SearchAlgorithm):
    class GBFSFrontier(Frontier):
        def set_priority(self, node):
            return node.my_heuristic()
</code></pre>
        <p>The <code>GBFSFrontier</code> sets only the heuristic to the priority, thus <code>f(n) = h(n)</code>.</p>
        <pre><code class="language-python">class AStar(SearchAlgorithm):
    class AStarFrontier(Frontier):
        def set_priority(self, node):
            return node.cost + node.my_heuristic()
</code></pre>
        <p>The <code>AStarFrontier</code> adds the node cost to its priority, thus <code>f(n) = h(n) + g(n)</code>.</p>

        <h3>Custom A* and GBFS Heuristics</h3>
        <p>The program includes custom heuristics for A* and GBFS. The heuristics are implemented as methods inside the
            <code>PriorityQueueNode</code> class and are used to calculate the estimated cost from the current state to
            the target state. The heuristics are used to guide the search algorithms in finding the optimal path to the
            target state.</p>

        <h2>Examples</h2>
        <div class="image-center">
            <img src="./images/output_example.png" title="AI8Puzzle Output Example" alt="Output Example">
            <img src="./images/output_example2.png" title="AI8Puzzle Output Example 2" alt="Output Example 2">
        </div>

        <h2>Acknowledgments</h2>
        <p>Inspired by the book <em>"Artificial Intelligence: A Modern Approach"</em> by Stuart Russell and Peter
            Norvig. Thanks to the Open University of Israel for the opportunity to work on this project.</p>

        <h2>License</h2>
        <p>This project is licensed under the MIT License - see the <a href="LICENSE">LICENSE</a> file for details.</p>

        <footer>
        <p class="center">üï≥Ô∏è <a href="https://dorpascal.com">Dor Pascal</a> ¬© 2024</p>
        </footer>
    </div>
</body>

</html>